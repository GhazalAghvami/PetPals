!function(){"use strict";function t(t,e,n){t.state("Home",{url:"/",templateUrl:"/views/Home.html"}).state("About",{url:"/about",templateUrl:"/views/About.html"}).state("Chat",{url:"/chat",templateUrl:"views/Chat.html"}).state("Contact",{url:"/contact",templateUrl:"views/Contact.html"}).state("AddPet",{url:"/addpet/:id",templateUrl:"views/AddPet.html"}).state("EditPet",{url:"/editpet/:id",templateUrl:"views/EditPet.html"}).state("AddSitter",{url:"/addsitter",templateUrl:"views/AddSitter.html"}).state("EditSitter",{url:"/editsitter",templateUrl:"views/EditSitter.html"}).state("ViewSitters",{url:"/viewsitters/:id",templateUrl:"views/ViewSitters.html"}).state("ViewPets",{url:"/viewpets/:id",templateUrl:"views/ViewPets.html"}).state("RegLog",{url:"/reglog",templateUrl:"views/RegLog.html"}),e.otherwise("/"),n.interceptors.push("AuthInterceptor")}t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],angular.module("app",["ui.router","ngMaterial"]).config(t)}(),function(){"use strict";function t(){return function(t){var e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}}angular.module("app").filter("usernameFilter",t)}(),function(){"use strict";function t(t){var e={request:function(e){return t.localStorage.getItem("token")&&(e.headers.authorization="Bearer "+t.localStorage.getItem("token")),e}};return e}t.$inject=["$window"],angular.module("app").factory("AuthInterceptor",t)}(),function(){"use strict";function t(t,e){var n={};return n.addMsg=function(n){var r=e.defer();return t.post("/api/chats",n).success(function(){r.resolve()}),r.promise},n.getMsg=function(){var n=e.defer();return t.get("/api/chats").success(function(t){var e=[];for(var r in t)t[r]._id=r,e.unshift(t[r]);n.resolve(e)}),n.promise},n}t.$inject=["$http","$q"],angular.module("app").factory("HomeFactory",t)}(),function(){"use strict";function t(t,e){var n={};return n.postPet=function(n){var r=e.defer();return t.post("/api/pet",n).then(function(t){r.resolve(t.data)}),r.promise},n.getAllPets=function(){var n=e.defer();return t.get("/api/pet").then(function(t){n.resolve(t.data)}),n.promise},n.deletePet=function(n){var r=e.defer();return t["delete"]("/api/pet/"+n._id).then(function(){r.resolve()}),r.promise},n.putPet=function(n){var r=e.defer();return t.put("/api/pet/"+n._id,n).then(function(t){r.resolve(t.data)}),r.promise},n}t.$inject=["$http","$q"],angular.module("app").factory("PetFactory",t)}(),function(){"use strict";function t(t,e){var n={};return n.postSitter=function(n){var r=e.defer();return t.post("/api/sitter",n).then(function(t){r.resolve(t.data)}),r.promise},n.getAllSitters=function(){var n=e.defer();return t.get("/api/sitter").then(function(t){n.resolve(t.data)}),n.promise},n.deleteSitter=function(n){var r=e.defer();return t["delete"]("/api/sitter/"+n._id).then(function(){r.resolve()}),r.promise},n.putSitter=function(n){var r=e.defer();return t.put("/api/sitter/"+n._id,n).then(function(t){r.resolve(t.data)}),r.promise},n}t.$inject=["$http","$q"],angular.module("app").factory("SitterFactory",t)}(),function(){"use strict";function t(t,e){function n(){var t=JSON.parse(a(i().split(".")[1]));u.status.username=t.username,u.status.name=t.name,u.status._id=t._id,u.status.email=t.email,u.status.unit=t.unit}function r(){u.status.username=null,u.status._id=null,u.status.email=null,u.status.unit=null}function i(){return localStorage.getItem("token")}function o(t){return localStorage.setItem("token",t)}function s(){return localStorage.removeItem("token")}function a(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(e)))}var u={};return u.status={},u.register=function(r){var i=e.defer();return t.post("/api/users/register",r).then(function(t){o(t.data),n(),i.resolve(t.data)},function(t){i.reject(t)}),i.promise},u.login=function(r){var i=e.defer();return t.post("/api/users/login",r).then(function(t){o(t.data),n(),i.resolve(t.data)},function(t){i.reject(t)}),i.promise},u.logout=function(){s(),r()},i()&&n(),u}t.$inject=["$http","$q"],angular.module("app").factory("UserFactory",t)}(),function(){"use strict";function t(t,e,n){var r=this;r.status=n.status,r.pet={owner:r.status.name,unit:r.status.unit},r.addPet=function(){t.postPet(r.pet).then(function(t){e.go("ViewPets")})}}t.$inject=["PetFactory","$state","UserFactory"],angular.module("app").controller("AddPetController",t)}(),function(){"use strict";function t(t,e,n){var r=this;r.status=n.status,r.sitter={name:r.status.name,unit:r.status.unit},r.addSitter=function(){t.postSitter(r.sitter).then(function(t){e.go("ViewSitters")})}}t.$inject=["SitterFactory","$state","UserFactory"],angular.module("app").controller("AddSitterController",t)}(),function(){"use strict";function t(t,e,n){var r=this;r.editPet=JSON.parse(localStorage.tempPet),r.updatePet=function(){t.putPet(r.editPet).then(function(){n.go("ViewPets")})}}t.$inject=["PetFactory","$stateParams","$state"],angular.module("app").controller("EditPetController",t)}(),function(){"use strict";function t(t,e,n){var r=this;r.editSitter=JSON.parse(localStorage.tempSitter),r.updateSitter=function(){t.putSitter(r.editSitter).then(function(){n.go("ViewSitters")})}}t.$inject=["SitterFactory","$stateParams","$state"],angular.module("app").controller("EditSitterController",t)}(),function(){"use strict";function t(t,e,n,r){var i=this;i.isLogin=!0,i.user={},i.status=t.status,i.showSimpleToast=function(t){n.show(n.simple().content(t).position("top right").hideDelay(4e3))},i.logout=function(){e.go("Home");var n=i.status.name.split("");n[0]=n[0].toUpperCase(),n=n.join(""),i.showSimpleToast("Goodbye "+n+"! Come back soon."),t.logout()},i.register=function(){t.register(i.user).then(function(){i.close();var t=i.status.name.split("");t[0]=t[0].toUpperCase(),t=t.join(""),i.showSimpleToast("Welcome to Pets & Pals, "+t+"!")},function(t){i.registerError="Username already exists in our database"})},i.login=function(){t.login(i.user).then(function(){i.close();var t=i.status.name.split("");t[0]=t[0].toUpperCase(),t=t.join(""),i.showSimpleToast("Welcome Back, "+t+"!")},function(t){i.loginError="Incorrect Username or Password",i.user.password=""})},i.toggleRight=function(){r("right").toggle()},i.close=function(){r("right").toggle()}}t.$inject=["UserFactory","$state","$mdToast","$mdSidenav"],angular.module("app").controller("GlobalController",t)}(),function(){"use strict";function t(t,e,n,r){var i=this;i.status=e.status,i.chats={name:i.status.name,unit:i.status.unit},i.msg={name:i.status.name,unit:i.status.unit,email:i.status.email},i.addMsg=function(){r.addMsg(i.chats).then(function(){i.chats.msg=null})},i.getMsg=function(){r.getMsg().then(function(t){i.msgs=t})},setInterval(i.getMsg,500),i.contact=function(){t.go("Home")}}t.$inject=["$state","UserFactory","$stateParams","HomeFactory"],angular.module("app").controller("HomeController",t)}(),function(){"use strict";function t(t,e,n,r){var i,o=this;o.status=n.status,t.getAllPets().then(function(t){o.pets=t}),o.deletePet=function(e){t.deletePet(e).then(function(){o.pets.splice(o.pets.indexOf(e),1)})},o.editPet=function(t,n){localStorage.setItem("tempPet",JSON.stringify(n)),e.go("EditPet",{id:t})},o.showAlert=function(t){i=r.alert({title:t.name+" the "+t.type,content:t.bio,ok:"Okay!"}),r.show(i)["finally"](function(){i=void 0})}}t.$inject=["PetFactory","$state","UserFactory","$mdDialog"],angular.module("app").controller("ViewPetsController",t)}(),function(){"use strict";function t(t,e,n,r){var i=this;i.status=n.status;var o;i.items=[{icon:"<i class='zmdi zmdi-wrench>''</i>",link:"EditSitter"},{icon:'<i class="zmdi zmdi-scissors"></i>',link:""},{icon:'<i class="zmdi zmdi-more-vert"></i>',link:"Contact"}],t.getAllSitters().then(function(t){i.sitters=t}),i.deleteSitter=function(e){t.deleteSitter(e).then(function(){i.sitters.splice(i.sitters.indexOf(e),1)})},i.editSitter=function(t,n){localStorage.setItem("tempSitter",JSON.stringify(n)),e.go("EditSitter",{id:t})},i.showAlert=function(t){o=r.alert({title:t.name+" in Suite #"+t.unit,content:t.bio,ok:"Okay!"}),r.show(o)["finally"](function(){o=void 0})}}t.$inject=["SitterFactory","$state","UserFactory","$mdDialog"],angular.module("app").controller("ViewSittersController",t)}();