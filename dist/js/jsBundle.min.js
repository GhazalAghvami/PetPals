!function(){"use strict";function t(t,e,n){t.state("Home",{url:"/",templateUrl:"/views/Home.html"}).state("About",{url:"/about",templateUrl:"/views/About.html"}).state("Chat",{url:"/chat",templateUrl:"views/Chat.html"}).state("Contact",{url:"/contact",templateUrl:"views/Contact.html"}).state("AddPet",{url:"/addpet/:id",templateUrl:"views/AddPet.html"}).state("EditPet",{url:"/editpet/:id",templateUrl:"views/EditPet.html"}).state("AddSitter",{url:"/addsitter",templateUrl:"views/AddSitter.html"}).state("EditSitter",{url:"/editsitter",templateUrl:"views/EditSitter.html"}).state("ViewSitters",{url:"/viewsitters/:id",templateUrl:"views/ViewSitters.html"}).state("ViewPets",{url:"/viewpets/:id",templateUrl:"views/ViewPets.html"}).state("RegLog",{url:"/reglog",templateUrl:"views/RegLog.html"}),e.otherwise("/"),n.interceptors.push("AuthInterceptor")}angular.module("app",["ui.router","ngMaterial"]).config(t),t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"]}(),function(){"use strict";function t(t,e,n){var i=this;i.status=n.status,i.pet={owner:i.status.name,unit:i.status.unit},i.addPet=function(){t.postPet(i.pet).then(function(t){e.go("ViewPets")})}}angular.module("app").controller("AddPetController",t),t.$inject=["PetFactory","$state","UserFactory"]}(),function(){"use strict";function t(t,e,n){var i=this;i.status=n.status,i.sitter={name:i.status.name,unit:i.status.unit},i.addSitter=function(){t.postSitter(i.sitter).then(function(t){e.go("ViewSitters")})}}angular.module("app").controller("AddSitterController",t),t.$inject=["SitterFactory","$state","UserFactory"]}(),function(){"use strict";function t(t,e,n){var i=this;i.editPet=JSON.parse(localStorage.tempPet),i.updatePet=function(){t.putPet(i.editPet).then(function(){n.go("ViewPets")})}}angular.module("app").controller("EditPetController",t),t.$inject=["PetFactory","$stateParams","$state"]}(),function(){"use strict";function t(t,e,n){var i=this;i.editSitter=JSON.parse(localStorage.tempSitter),i.updateSitter=function(){t.putSitter(i.editSitter).then(function(){n.go("ViewSitters")})}}angular.module("app").controller("EditSitterController",t),t.$inject=["SitterFactory","$stateParams","$state"]}(),function(){"use strict";function t(t,e,n,i){var r=this;r.isLogin=!0,r.user={},r.status=t.status,r.showSimpleToast=function(t){n.show(n.simple().content(t).position("top right").hideDelay(3e3))},r.logout=function(){e.go("Home");var n=r.status.name.split("");n[0]=n[0].toUpperCase(),n=n.join(""),r.showSimpleToast("Goodbye "+n+"! Come back soon."),t.logout()},r.register=function(){t.register(r.user).then(function(){r.close();var t=r.status.name.split("");t[0]=t[0].toUpperCase(),t=t.join(""),r.showSimpleToast("Welcome to Pets & Pals "+t+"!")})},r.login=function(){t.login(r.user).then(function(){r.close();var t=r.status.name.split("");t[0]=t[0].toUpperCase(),t=t.join(""),r.showSimpleToast("Welcome Back "+t+"!")})},r.toggleRight=function(){i("right").toggle()},r.close=function(){i("right").toggle()}}angular.module("app").controller("GlobalController",t),t.$inject=["UserFactory","$state","$mdToast","$mdSidenav"]}(),function(){"use strict";function t(t,e,n,i){var r=this;r.status=e.status,r.chats={name:r.status.name,unit:r.status.unit},r.msg={name:r.status.name,unit:r.status.unit,email:r.status.email},r.addMsg=function(){i.addMsg(r.chats).then(function(){r.chats.msg=null})},r.getMsg=function(){i.getMsg().then(function(t){r.msgs=t})},setInterval(r.getMsg,500),r.contact=function(){t.go("Home")}}angular.module("app").controller("HomeController",t),t.$inject=["$state","UserFactory","$stateParams","HomeFactory"]}(),function(){"use strict";function t(t,e,n,i){var r,o=this;o.status=n.status,t.getAllPets().then(function(t){o.pets=t}),o.deletePet=function(e){t.deletePet(e).then(function(){o.pets.splice(o.pets.indexOf(e),1)})},o.editPet=function(t,n){localStorage.setItem("tempPet",JSON.stringify(n)),e.go("EditPet",{id:t})},o.showAlert=function(t){r=i.alert({title:t.name+" the "+t.type,content:t.bio,ok:"Okay!"}),i.show(r)["finally"](function(){r=void 0})}}angular.module("app").controller("ViewPetsController",t),t.$inject=["PetFactory","$state","UserFactory","$mdDialog"]}(),function(){"use strict";function t(t,e,n,i){var r=this;r.status=n.status;var o;r.items=[{icon:"<i class='zmdi zmdi-wrench>''</i>",link:"EditSitter"},{icon:'<i class="zmdi zmdi-scissors"></i>',link:""},{icon:'<i class="zmdi zmdi-more-vert"></i>',link:"Contact"}],t.getAllSitters().then(function(t){r.sitters=t}),r.deleteSitter=function(e){t.deleteSitter(e).then(function(){r.sitters.splice(r.sitters.indexOf(e),1)})},r.editSitter=function(t,n){localStorage.setItem("tempSitter",JSON.stringify(n)),e.go("EditSitter",{id:t})},r.showAlert=function(t){o=i.alert({title:t.name+" in Suite #"+t.unit,content:t.bio,ok:"Okay!"}),i.show(o)["finally"](function(){o=void 0})}}angular.module("app").controller("ViewSittersController",t),t.$inject=["SitterFactory","$state","UserFactory","$mdDialog"]}(),function(){"use strict";function t(){return function(t){var e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}}angular.module("app").filter("usernameFilter",t)}(),function(){"use strict";function t(t){var e={request:function(e){return t.localStorage.getItem("token")&&(e.headers.authorization="Bearer "+t.localStorage.getItem("token")),e}};return e}angular.module("app").factory("AuthInterceptor",t),t.$inject=["$window"]}(),function(){"use strict";function t(t,e){var n={};return n.addMsg=function(n){var i=e.defer();return t.post("/api/chats",n).success(function(){i.resolve()}),i.promise},n.getMsg=function(){var n=e.defer();return t.get("/api/chats").success(function(t){var e=[];for(var i in t)t[i]._id=i,e.unshift(t[i]);n.resolve(e)}),n.promise},n}angular.module("app").factory("HomeFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){var n={};return n.postPet=function(n){var i=e.defer();return t.post("/api/pet",n).then(function(t){i.resolve(t.data)}),i.promise},n.getAllPets=function(){var n=e.defer();return t.get("/api/pet").then(function(t){n.resolve(t.data)}),n.promise},n.deletePet=function(n){var i=e.defer();return t["delete"]("/api/pet/"+n._id).then(function(){i.resolve()}),i.promise},n.putPet=function(n){var i=e.defer();return t.put("/api/pet/"+n._id,n).then(function(t){i.resolve(t.data)}),i.promise},n}angular.module("app").factory("PetFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){var n={};return n.postSitter=function(n){var i=e.defer();return t.post("/api/sitter",n).then(function(t){i.resolve(t.data)}),i.promise},n.getAllSitters=function(){var n=e.defer();return t.get("/api/sitter").then(function(t){n.resolve(t.data)}),n.promise},n.deleteSitter=function(n){var i=e.defer();return t["delete"]("/api/sitter/"+n._id).then(function(){i.resolve()}),i.promise},n.putSitter=function(n){var i=e.defer();return t.put("/api/sitter/"+n._id,n).then(function(t){i.resolve(t.data)}),i.promise},n}angular.module("app").factory("SitterFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){function n(){var t=JSON.parse(a(r().split(".")[1]));u.status.username=t.username,u.status.name=t.name,u.status._id=t._id,u.status.email=t.email,u.status.unit=t.unit}function i(){u.status.username=null,u.status._id=null,u.status.email=null,u.status.unit=null}function r(){return localStorage.getItem("token")}function o(t){return localStorage.setItem("token",t)}function s(){return localStorage.removeItem("token")}function a(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(e)))}var u={};return u.status={},u.register=function(i){var r=e.defer();return t.post("/api/users/register",i).then(function(t){o(t.data),n(),r.resolve(t.data)}),r.promise},u.login=function(i){var r=e.defer();return t.post("/api/users/login",i).then(function(t){o(t.data),n(),r.resolve(t.data)}),r.promise},u.logout=function(){s(),i()},r()&&n(),u}angular.module("app").factory("UserFactory",t),t.$inject=["$http","$q"]}();